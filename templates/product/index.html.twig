{% extends 'base.html.twig' %}

{% block title %}Hello HomeController!{% endblock %}

{% block body %}

<div class="card">
    <div class="card-header">
        <h3 class="card-title">
            Nearest Products To The User.
        </h3>
    </div>
    <div class="card-body">
        <div class="row">
            {% for item in products %}
            <div class="col-4 mb-3">
                <div class="card">
                    {{  _self.product(item) }}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

{% endblock %}

{% macro product(item) %}
    <div class="card-header">
        <h4>{{ item.name }} <span class="badge bg-primary">${{ item.price }}</span></h4>
        <small>{{ item.createdAt|date }}</small>
    </div>
    <div class="card-body">
        <div class="card-image">
            <img src="{{ 'https://picsum.photos/id/' ~ (item.id ? item.id: random(1, 100)) ~ '/200/200' }}" alt="{{ item.name }}" width="100%" height="100%">
        </div>
        <div class="card-text">
            {{ item.description }}
        </div>
    </div>

    <div class="card-footer text-center " style="background: lightgray;">
        #<strong>{{ item.store.name }}</strong>
    </div>
{% endmacro %}
